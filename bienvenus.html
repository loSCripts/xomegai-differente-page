<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logo Motion Design - Bienvenue & Welcome</title>
    <style>
        /* 1. FOND BLANC INITIAL AVEC MOTIF Ã€ POINTS ATTÃ‰NUÃ‰S */
        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background-color: #ffffff;
            
            /* MOTIF Ã€ POINTS GRIS LÃ‰GERS */
            background-image: radial-gradient(circle, rgba(0, 0, 0, 0.1) 1.5px, transparent 1.5px);
            background-size: 20px 20px;

            overflow: hidden; 
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }

        .stage {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
        }

        /* --- POPUP D'AUTORISATION (Overlay) --- */
        #start-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #ffffff;
            background-image: radial-gradient(circle, rgba(0, 0, 0, 0.1) 1.5px, transparent 1.5px);
            background-size: 20px 20px;
            
            z-index: 9999; 
            
            display: flex;
            flex-direction: column;
            /* Centre les Ã©lÃ©ments enfants (bouton, texte) */
            align-items: center; 
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        /* --- STYLES DU QUESTIONNAIRE --- */
        #questionnaire-container {
            margin: auto; 
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 400px;
            /* Padding-bottom initial Ã  0 pour Ãªtre centrÃ© */
            padding-bottom: 0; 
            /* TRANSITION POUR L'EFFET DE REHAUSSEMENT */
            transition: padding-bottom 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* Classe ajoutÃ©e dynamiquement QUAND le menu est ouvert pour rehausser */
        #questionnaire-container.menu-open {
            padding-bottom: 250px; 
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            animation: fadeInStep 0.5s ease forwards;
            width: 100%;
            position: relative;
        }

        /* CORRECTION : Suppression du padding-bottom statique sur #step-3 
           pour qu'il soit centrÃ© par dÃ©faut */
        
        .step label {
            font-size: 20px;
            font-weight: 300;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #000;
            text-align: center;
        }

        /* INPUTS CLASSIQUES */
        .step input[type="text"] {
            padding: 15px 30px;
            border-radius: 50px;
            border: 1px solid #000;
            background: #fff;
            font-family: inherit;
            font-size: 18px;
            text-align: center;
            width: 80%;
            outline: none;
            transition: box-shadow 0.3s ease, border-color 0.3s ease;
        }

        .step input[type="text"]:focus {
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-color: #333;
        }

        /* --- DESIGN DU MENU DÃ‰ROULANT (Custom Select) --- */
        .custom-select-wrapper {
            position: relative;
            width: 80%;
            user-select: none;
            font-size: 18px;
            margin-bottom: 20px;
        }

        .custom-select {
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .custom-select-trigger {
            position: relative;
            padding: 15px 30px;
            border-radius: 50px;
            border: 1px solid #000;
            background: #fff;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .custom-select-trigger span {
            margin: 0 auto; 
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 90%;
        }

        .custom-select-trigger:after {
            content: 'â–¼';
            font-size: 12px;
            position: absolute;
            right: 20px;
            transition: transform 0.3s ease;
        }

        .custom-select.open .custom-select-trigger:after {
            transform: rotate(180deg);
        }

        .custom-select.open .custom-select-trigger {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            border-bottom-color: transparent;
        }

        /* CONTENEUR DES OPTIONS */
        .custom-options {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: #fff;
            border: 1px solid #000;
            border-top: none;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .custom-select.open .custom-options {
            opacity: 1;
            visibility: visible;
            pointer-events: all;
            transform: translateY(0);
        }

        /* BARRE DE RECHERCHE DANS LE SELECT */
        .country-search-box {
            padding: 10px;
            background-color: #f9f9f9;
            border-bottom: 1px solid #eee;
        }

        .country-search-box input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
            outline: none;
            box-sizing: border-box;
        }

        /* LISTE DÃ‰FILANTE */
        .options-list {
            max-height: 250px;
            overflow-y: auto;
        }

        .options-list::-webkit-scrollbar {
            width: 6px;
        }
        .options-list::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 3px;
        }

        .custom-option {
            padding: 12px 20px;
            cursor: pointer;
            transition: background 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 10px;
            border-top: 1px solid #f0f0f0;
            font-size: 16px;
        }

        .custom-option:hover {
            background-color: #f7f7f7;
            color: #000;
            font-weight: 500;
        }

        .custom-option.selected {
            background-color: #000;
            color: #fff;
        }
        
        .custom-option.hidden {
            display: none;
        }

        /* --- BOUTONS --- */
        .next-btn {
            padding: 15px 40px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            background-color: #000000;
            color: #ffffff;
            font-family: Arial, sans-serif;
            font-size: 14px;
            font-weight: normal;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: transform 0.2s ease, opacity 0.3s ease, background-color 0.3s ease;
            position: relative; 
            z-index: 1;
        }

        .next-btn:hover {
            transform: scale(1.05);
        }

        .next-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
            opacity: 0.7;
        }

        @keyframes fadeInStep {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- STYLE DU MESSAGE DE FIN ET DU BOUTON CONTINUER --- */
        #final-message {
            font-size: 24px;
            font-weight: 300;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #000;
            margin-bottom: 30px; 
            display: none; 
            text-align: center;
            animation: fadeInStep 0.5s ease forwards;
            margin-top: auto; 
        }

        #start-btn {
            padding: 20px 60px; /* Taille normale pilule */
            border-radius: 50px; 
            border: none;
            cursor: pointer;
            background-color: #000000;
            color: #ffffff;
            font-family: Arial, sans-serif;
            font-size: 16px;
            font-weight: normal;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: transform 0.2s ease;
            display: none; 
            margin-bottom: auto; 
            width: auto; 
        }

        #start-btn:hover {
            transform: scale(1.05);
        }

        /* 2. LE LOGO SVG INITIAL (NOIR) */
        .logo-svg-initial {
            width: 70vmin;
            height: 70vmin;
            position: absolute;
            overflow: visible;
            z-index: 1;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .logo-shape-initial {
            fill: transparent;
            stroke: #000000;
            stroke-width: 40px;
            stroke-linecap: round;
            stroke-linejoin: round;
            transform-box: fill-box;
            transform-origin: center;
            stroke-dasharray: var(--length);
            stroke-dashoffset: var(--length);
        }
        
        body.started .logo-shape-initial {
            animation: 
                drawPath 3s cubic-bezier(0.5, 0, 0.3, 1) forwards,
                fillInBlack 0.5s ease-out 2.8s forwards,
                shrinkToBall 0.4s ease-in 4s forwards;
        }

        /* 3. LA BOULE NOIRE (Transition) */
        .black-ball {
            position: absolute;
            width: 6vmin;  
            height: 6vmin;
            background-color: #000000;
            border-radius: 50%;
            z-index: 20;
            transform: scale(0);
            top: 50%;
            left: 50%;
            margin-top: -3vmin;
            margin-left: -3vmin;
        }

        body.started .black-ball {
            animation: ballSequence 2s linear 4s forwards;
        }

        /* 4. SCÃˆNE FINALE */
        .final-scene {
            position: absolute;
            z-index: 30;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        /* --- LOGO DU HAUT --- */
        .final-logo-container {
            position: absolute;
            top: 50%; 
            left: 50%;
            transform: translate(-50%, -35vmin); 
            width: 15vmin;
            height: auto;
            opacity: 0;
        }

        body.started .final-logo-container {
            animation: fadeInSimple 0.5s ease-out 6s forwards;
        }

        .logo-shape-white {
            fill: transparent;
            stroke: #ffffff;
            stroke-width: 40px;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: var(--length);
            stroke-dashoffset: var(--length);
        }

        body.started .logo-shape-white {
            animation: 
                drawPath 2s cubic-bezier(0.5, 0, 0.3, 1) 6.5s forwards,
                fillInWhite 1s ease-out 8s forwards;
        }

        /* --- ZONE DE TEXTE CENTRALE --- */
        .text-center-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80vmin;
            height: 25vmin;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .text-svg {
            position: absolute;
            width: 100%;
            height: auto;
            overflow: visible;
        }

        .text-style {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 80px; 
            font-weight: 300;
            letter-spacing: 5px; 
            text-transform: uppercase;
            fill: transparent;
            stroke: #ffffff;
            stroke-width: 1px;
            stroke-dasharray: 600;
            stroke-dashoffset: 600;
        }

        body.started .text-bienvenue {
            animation: 
                drawText 2.5s ease-out 5.5s forwards,
                fillInWhiteText 1s ease-out 7.5s forwards,
                fadeOut 0.5s ease-in 9.5s forwards;
        }

        .text-welcome { opacity: 0; }

        body.started .text-welcome {
            animation:
                appearInstant 0.1s linear 10s forwards,
                drawText 2.5s ease-out 10s forwards,
                fillInWhiteText 1s ease-out 12s forwards;
        }


        /* ========================
           KEYFRAMES
           ======================== */

        @keyframes drawPath { to { stroke-dashoffset: 0; } }
        @keyframes drawText { to { stroke-dashoffset: 0; } }

        @keyframes fillInBlack { from { fill: transparent; } to { fill: #000000; stroke-width: 0; } }
        @keyframes fillInWhite { from { fill: transparent; } to { fill: #ffffff; stroke-width: 0; } }
        @keyframes fillInWhiteText { to { fill: #ffffff; } }

        @keyframes shrinkToBall {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(0); opacity: 1; } 
        }

        @keyframes fadeInSimple { to { opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
        @keyframes appearInstant { to { opacity: 1; } }

        @keyframes ballSequence {
            0% { transform: scale(0); }   
            20% { transform: scale(1); }  
            45% { transform: scale(1); }  
            70% { transform: scale(15.5); } 
            100% { transform: scale(15.5); }
        }

    </style>
</head>
<body>

    <!-- POPUP D'AUTORISATION + QUESTIONNAIRE -->
    <div id="start-overlay">
        
        <!-- Conteneur du Questionnaire -->
        <div id="questionnaire-container">
            
            <!-- Ã‰tape 1 : IdentitÃ© (Nom & PrÃ©nom) -->
            <div class="step" id="step-1">
                <label>Votre IdentitÃ©</label>
                <input type="text" id="input-nom" placeholder="Votre Nom" autocomplete="off" oninput="checkInputs(1)">
                <input type="text" id="input-prenom" placeholder="Votre PrÃ©nom" autocomplete="off" oninput="checkInputs(1)" style="margin-top: 15px;">
                <button class="next-btn" id="btn-1" onclick="nextStep(1)" disabled>SUIVANT</button>
            </div>

            <!-- Ã‰tape 2 : Pseudo -->
            <div class="step" id="step-2" style="display: none;">
                <label for="input-pseudo">Votre Pseudo</label>
                <input type="text" id="input-pseudo" placeholder="Choisissez un pseudo" autocomplete="off" oninput="checkInputs(2)">
                <button class="next-btn" id="btn-2" onclick="nextStep(2)" disabled>SUIVANT</button>
            </div>

            <!-- Ã‰tape 3 : Pays (Custom Select avec Recherche) -->
            <div class="step" id="step-3" style="display: none;">
                <label for="input-pays-hidden">Votre Pays</label>
                
                <!-- Input cachÃ© pour stocker la valeur -->
                <input type="hidden" id="input-pays" value="">

                <!-- Structure Custom Select -->
                <div class="custom-select-wrapper">
                    <div class="custom-select" id="country-select">
                        <div class="custom-select-trigger" id="country-trigger">
                            <span>-- Choisissez --</span>
                        </div>
                        <div class="custom-options">
                            <!-- Barre de recherche -->
                            <div class="country-search-box">
                                <input type="text" id="country-search-input" placeholder="Rechercher..." autocomplete="off">
                            </div>
                            <!-- Liste des pays (Large Liste) -->
                            <div class="options-list">
                                <div class="custom-option" data-value="AF">ğŸ‡¦ğŸ‡« Afghanistan</div>
                                <div class="custom-option" data-value="ZA">ğŸ‡¿ğŸ‡¦ Afrique du Sud</div>
                                <div class="custom-option" data-value="AL">ğŸ‡¦ğŸ‡± Albanie</div>
                                <div class="custom-option" data-value="DZ">ğŸ‡©ğŸ‡¿ AlgÃ©rie</div>
                                <div class="custom-option" data-value="DE">ğŸ‡©ğŸ‡ª Allemagne</div>
                                <div class="custom-option" data-value="AD">ğŸ‡¦ğŸ‡© Andorre</div>
                                <div class="custom-option" data-value="AO">ğŸ‡¦ğŸ‡´ Angola</div>
                                <div class="custom-option" data-value="SA">ğŸ‡¸ğŸ‡¦ Arabie saoudite</div>
                                <div class="custom-option" data-value="AR">ğŸ‡¦ğŸ‡· Argentine</div>
                                <div class="custom-option" data-value="AM">ğŸ‡¦ğŸ‡² ArmÃ©nie</div>
                                <div class="custom-option" data-value="AU">ğŸ‡¦ğŸ‡º Australie</div>
                                <div class="custom-option" data-value="AT">ğŸ‡¦ğŸ‡¹ Autriche</div>
                                <div class="custom-option" data-value="AZ">ğŸ‡¦ğŸ‡¿ AzerbaÃ¯djan</div>
                                <div class="custom-option" data-value="BE">ğŸ‡§ğŸ‡ª Belgique</div>
                                <div class="custom-option" data-value="BJ">ğŸ‡§ğŸ‡¯ BÃ©nin</div>
                                <div class="custom-option" data-value="BY">ğŸ‡§ğŸ‡¾ BiÃ©lorussie</div>
                                <div class="custom-option" data-value="BO">ğŸ‡§ğŸ‡´ Bolivie</div>
                                <div class="custom-option" data-value="BA">ğŸ‡§ğŸ‡¦ Bosnie-HerzÃ©govine</div>
                                <div class="custom-option" data-value="BR">ğŸ‡§ğŸ‡· BrÃ©sil</div>
                                <div class="custom-option" data-value="BG">ğŸ‡§ğŸ‡¬ Bulgarie</div>
                                <div class="custom-option" data-value="BF">ğŸ‡§ğŸ‡« Burkina Faso</div>
                                <div class="custom-option" data-value="KH">ğŸ‡°ğŸ‡­ Cambodge</div>
                                <div class="custom-option" data-value="CM">ğŸ‡¨ğŸ‡² Cameroun</div>
                                <div class="custom-option" data-value="CA">ğŸ‡¨ğŸ‡¦ Canada</div>
                                <div class="custom-option" data-value="CV">ğŸ‡¨ğŸ‡» Cap-Vert</div>
                                <div class="custom-option" data-value="CL">ğŸ‡¨ğŸ‡± Chili</div>
                                <div class="custom-option" data-value="CN">ğŸ‡¨ğŸ‡³ Chine</div>
                                <div class="custom-option" data-value="CY">ğŸ‡¨ğŸ‡¾ Chypre</div>
                                <div class="custom-option" data-value="CO">ğŸ‡¨ğŸ‡´ Colombie</div>
                                <div class="custom-option" data-value="KM">ğŸ‡°ğŸ‡² Comores</div>
                                <div class="custom-option" data-value="CG">ğŸ‡¨ğŸ‡¬ Congo-Brazzaville</div>
                                <div class="custom-option" data-value="CD">ğŸ‡¨ğŸ‡© Congo-Kinshasa</div>
                                <div class="custom-option" data-value="KR">ğŸ‡°ğŸ‡· CorÃ©e du Sud</div>
                                <div class="custom-option" data-value="CI">ğŸ‡¨ğŸ‡® CÃ´te d'Ivoire</div>
                                <div class="custom-option" data-value="HR">ğŸ‡­ğŸ‡· Croatie</div>
                                <div class="custom-option" data-value="CU">ğŸ‡¨ğŸ‡º Cuba</div>
                                <div class="custom-option" data-value="DK">ğŸ‡©ğŸ‡° Danemark</div>
                                <div class="custom-option" data-value="EG">ğŸ‡ªğŸ‡¬ Ã‰gypte</div>
                                <div class="custom-option" data-value="AE">ğŸ‡¦ğŸ‡ª Ã‰mirats arabes unis</div>
                                <div class="custom-option" data-value="EC">ğŸ‡ªğŸ‡¨ Ã‰quateur</div>
                                <div class="custom-option" data-value="ES">ğŸ‡ªğŸ‡¸ Espagne</div>
                                <div class="custom-option" data-value="EE">ğŸ‡ªğŸ‡ª Estonie</div>
                                <div class="custom-option" data-value="US">ğŸ‡ºğŸ‡¸ Ã‰tats-Unis</div>
                                <div class="custom-option" data-value="FI">ğŸ‡«ğŸ‡® Finlande</div>
                                <div class="custom-option" data-value="FR">ğŸ‡«ğŸ‡· France</div>
                                <div class="custom-option" data-value="GA">ğŸ‡¬ğŸ‡¦ Gabon</div>
                                <div class="custom-option" data-value="GE">ğŸ‡¬ğŸ‡ª GÃ©orgie</div>
                                <div class="custom-option" data-value="GR">ğŸ‡¬ğŸ‡· GrÃ¨ce</div>
                                <div class="custom-option" data-value="GN">ğŸ‡¬ğŸ‡³ GuinÃ©e</div>
                                <div class="custom-option" data-value="HT">ğŸ‡­ğŸ‡¹ HaÃ¯ti</div>
                                <div class="custom-option" data-value="HU">ğŸ‡­ğŸ‡º Hongrie</div>
                                <div class="custom-option" data-value="IN">ğŸ‡®ğŸ‡³ Inde</div>
                                <div class="custom-option" data-value="ID">ğŸ‡®ğŸ‡© IndonÃ©sie</div>
                                <div class="custom-option" data-value="IQ">ğŸ‡®ğŸ‡¶ Irak</div>
                                <div class="custom-option" data-value="IR">ğŸ‡®ğŸ‡· Iran</div>
                                <div class="custom-option" data-value="IE">ğŸ‡®ğŸ‡ª Irlande</div>
                                <div class="custom-option" data-value="IS">ğŸ‡®ğŸ‡¸ Islande</div>
                                <div class="custom-option" data-value="IL">ğŸ‡®ğŸ‡± IsraÃ«l</div>
                                <div class="custom-option" data-value="IT">ğŸ‡®ğŸ‡¹ Italie</div>
                                <div class="custom-option" data-value="JM">ğŸ‡¯ğŸ‡² JamaÃ¯que</div>
                                <div class="custom-option" data-value="JP">ğŸ‡¯ğŸ‡µ Japon</div>
                                <div class="custom-option" data-value="JO">ğŸ‡¯ğŸ‡´ Jordanie</div>
                                <div class="custom-option" data-value="KZ">ğŸ‡°ğŸ‡¿ Kazakhstan</div>
                                <div class="custom-option" data-value="KE">ğŸ‡°ğŸ‡ª Kenya</div>
                                <div class="custom-option" data-value="KW">ğŸ‡°ğŸ‡¼ KoweÃ¯t</div>
                                <div class="custom-option" data-value="LB">ğŸ‡±ğŸ‡§ Liban</div>
                                <div class="custom-option" data-value="LV">ğŸ‡±ğŸ‡» Lettonie</div>
                                <div class="custom-option" data-value="LT">ğŸ‡±ğŸ‡¹ Lituanie</div>
                                <div class="custom-option" data-value="LU">ğŸ‡±ğŸ‡º Luxembourg</div>
                                <div class="custom-option" data-value="MG">ğŸ‡²ğŸ‡¬ Madagascar</div>
                                <div class="custom-option" data-value="MY">ğŸ‡²ğŸ‡¾ Malaisie</div>
                                <div class="custom-option" data-value="ML">ğŸ‡²ğŸ‡± Mali</div>
                                <div class="custom-option" data-value="MT">ğŸ‡²ğŸ‡¹ Malte</div>
                                <div class="custom-option" data-value="MA">ğŸ‡²ğŸ‡¦ Maroc</div>
                                <div class="custom-option" data-value="MU">ğŸ‡²ğŸ‡º Maurice</div>
                                <div class="custom-option" data-value="MX">ğŸ‡²ğŸ‡½ Mexique</div>
                                <div class="custom-option" data-value="MD">ğŸ‡²ğŸ‡© Moldavie</div>
                                <div class="custom-option" data-value="MC">ğŸ‡²ğŸ‡¨ Monaco</div>
                                <div class="custom-option" data-value="MN">ğŸ‡²ğŸ‡³ Mongolie</div>
                                <div class="custom-option" data-value="ME">ğŸ‡²ğŸ‡ª MontÃ©nÃ©gro</div>
                                <div class="custom-option" data-value="NE">ğŸ‡³ğŸ‡ª Niger</div>
                                <div class="custom-option" data-value="NG">ğŸ‡³ğŸ‡¬ Nigeria</div>
                                <div class="custom-option" data-value="NO">ğŸ‡³ğŸ‡´ NorvÃ¨ge</div>
                                <div class="custom-option" data-value="NZ">ğŸ‡³ğŸ‡¿ Nouvelle-ZÃ©lande</div>
                                <div class="custom-option" data-value="PK">ğŸ‡µğŸ‡° Pakistan</div>
                                <div class="custom-option" data-value="PA">ğŸ‡µğŸ‡¦ Panama</div>
                                <div class="custom-option" data-value="PY">ğŸ‡µğŸ‡¾ Paraguay</div>
                                <div class="custom-option" data-value="NL">ğŸ‡³ğŸ‡± Pays-Bas</div>
                                <div class="custom-option" data-value="PE">ğŸ‡µğŸ‡ª PÃ©rou</div>
                                <div class="custom-option" data-value="PH">ğŸ‡µğŸ‡­ Philippines</div>
                                <div class="custom-option" data-value="PL">ğŸ‡µğŸ‡± Pologne</div>
                                <div class="custom-option" data-value="PT">ğŸ‡µğŸ‡¹ Portugal</div>
                                <div class="custom-option" data-value="QA">ğŸ‡¶ğŸ‡¦ Qatar</div>
                                <div class="custom-option" data-value="RO">ğŸ‡·ğŸ‡´ Roumanie</div>
                                <div class="custom-option" data-value="GB">ğŸ‡¬ğŸ‡§ Royaume-Uni</div>
                                <div class="custom-option" data-value="RU">ğŸ‡·ğŸ‡º Russie</div>
                                <div class="custom-option" data-value="RW">ğŸ‡·ğŸ‡¼ Rwanda</div>
                                <div class="custom-option" data-value="SN">ğŸ‡¸ğŸ‡³ SÃ©nÃ©gal</div>
                                <div class="custom-option" data-value="RS">ğŸ‡·ğŸ‡¸ Serbie</div>
                                <div class="custom-option" data-value="SG">ğŸ‡¸ğŸ‡¬ Singapour</div>
                                <div class="custom-option" data-value="SK">ğŸ‡¸ğŸ‡° Slovaquie</div>
                                <div class="custom-option" data-value="SI">ğŸ‡¸ğŸ‡® SlovÃ©nie</div>
                                <div class="custom-option" data-value="SE">ğŸ‡¸ğŸ‡ª SuÃ¨de</div>
                                <div class="custom-option" data-value="CH">ğŸ‡¨ğŸ‡­ Suisse</div>
                                <div class="custom-option" data-value="SY">ğŸ‡¸ğŸ‡¾ Syrie</div>
                                <div class="custom-option" data-value="TJ">ğŸ‡¹ğŸ‡¯ Tadjikistan</div>
                                <div class="custom-option" data-value="TW">ğŸ‡¹ğŸ‡¼ TaÃ¯wan</div>
                                <div class="custom-option" data-value="TZ">ğŸ‡¹ğŸ‡¿ Tanzanie</div>
                                <div class="custom-option" data-value="TD">ğŸ‡¹ğŸ‡© Tchad</div>
                                <div class="custom-option" data-value="CZ">ğŸ‡¨ğŸ‡¿ TchÃ©quie</div>
                                <div class="custom-option" data-value="TH">ğŸ‡¹ğŸ‡­ ThaÃ¯lande</div>
                                <div class="custom-option" data-value="TG">ğŸ‡¹ğŸ‡¬ Togo</div>
                                <div class="custom-option" data-value="TN">ğŸ‡¹ğŸ‡³ Tunisie</div>
                                <div class="custom-option" data-value="TR">ğŸ‡¹ğŸ‡· Turquie</div>
                                <div class="custom-option" data-value="UA">ğŸ‡ºğŸ‡¦ Ukraine</div>
                                <div class="custom-option" data-value="UY">ğŸ‡ºğŸ‡¾ Uruguay</div>
                                <div class="custom-option" data-value="VE">ğŸ‡»ğŸ‡ª Venezuela</div>
                                <div class="custom-option" data-value="VN">ğŸ‡»ğŸ‡³ ViÃªt Nam</div>
                                <div class="custom-option" data-value="autre">ğŸ³ï¸ Autre</div>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="next-btn" id="btn-3" onclick="nextStep(3)" disabled>VALIDER</button>
            </div>
        </div>

        <!-- Message de fin et Bouton FINAL qui lance l'expÃ©rience (cachÃ©s au dÃ©but) -->
        <h2 id="final-message">Configuration terminÃ©e !</h2>
        <button id="start-btn">CONTINUER</button>
    </div>

    <!-- AUDIO -->
    <audio id="introSound" src="son.mp3"></audio>

    <div class="stage">
        <!-- 1. La Boule de transition -->
        <div class="black-ball"></div>

        <!-- 2. Le Logo SVG Original (Noir, dÃ©but) -->
        <svg class="logo-svg-initial" version="1.0" xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 660.000000 669.000000" preserveAspectRatio="xMidYMid meet">
            <g transform="translate(0.000000,669.000000) scale(0.100000,-0.100000)">
                <path class="logo-shape-initial measure-length" d="M3553 5465 c131 -18 267 -48 350 -76 107 -37 283 -125 389 -194 121
                -80 299 -250 382 -365 121 -168 215 -387 258 -603 29 -145 31 -421 4 -564 -42
                -228 -93 -353 -233 -563 -88 -132 -371 -513 -669 -900 -82 -107 -162 -212
                -178 -232 l-28 -37 99 -123 c55 -68 175 -220 268 -338 92 -118 181 -232 197
                -253 l30 -37 -245 0 -245 0 -154 201 c-84 111 -161 211 -170 223 l-18 21 -17
                -21 c-10 -12 -87 -110 -171 -218 l-154 -196 -284 0 c-226 0 -284 3 -277 13 4
                6 82 107 173 222 455 577 521 663 990 1295 366 492 417 564 464 658 127 254
                151 586 66 901 -31 114 -128 302 -203 396 -153 189 -385 332 -626 386 -112 24
                -361 26 -481 3 -196 -37 -406 -144 -552 -282 -232 -219 -350 -512 -352 -872
                -1 -163 21 -289 75 -438 53 -145 117 -244 449 -687 414 -554 532 -717 523
                -725 -4 -5 -330 -11 -723 -15 l-715 -6 -153 203 -153 203 438 5 c241 3 443 9
                450 13 8 5 -19 46 -88 130 -236 287 -450 589 -508 719 -44 97 -88 254 -107
                381 -22 150 -15 409 15 550 101 474 377 834 810 1056 165 84 345 137 586 170
                102 14 374 12 488 -4z m1389 -3012 l196 -6 -67 -86 c-37 -47 -107 -139 -156
                -203 l-87 -118 -274 0 c-151 0 -274 3 -274 6 0 3 55 71 123 153 67 81 142 172
                167 203 l45 57 66 1 c36 0 154 -3 261 -7z"/>
            </g>
        </svg>

        <div class="final-scene">
            <div class="final-logo-container">
                <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                     viewBox="0 0 660.000000 669.000000" preserveAspectRatio="xMidYMid meet">
                    <g transform="translate(0.000000,669.000000) scale(0.100000,-0.100000)">
                        <path class="logo-shape-white measure-length" d="M3553 5465 c131 -18 267 -48 350 -76 107 -37 283 -125 389 -194 121
                        -80 299 -250 382 -365 121 -168 215 -387 258 -603 29 -145 31 -421 4 -564 -42
                        -228 -93 -353 -233 -563 -88 -132 -371 -513 -669 -900 -82 -107 -162 -212
                        -178 -232 l-28 -37 99 -123 c55 -68 175 -220 268 -338 92 -118 181 -232 197
                        -253 l30 -37 -245 0 -245 0 -154 201 c-84 111 -161 211 -170 223 l-18 21 -17
                        -21 c-10 -12 -87 -110 -171 -218 l-154 -196 -284 0 c-226 0 -284 3 -277 13 4
                        6 82 107 173 222 455 577 521 663 990 1295 366 492 417 564 464 658 127 254
                        151 586 66 901 -31 114 -128 302 -203 396 -153 189 -385 332 -626 386 -112 24
                        -361 26 -481 3 -196 -37 -406 -144 -552 -282 -232 -219 -350 -512 -352 -872
                        -1 -163 21 -289 75 -438 53 -145 117 -244 449 -687 414 -554 532 -717 523
                        -725 -4 -5 -330 -11 -723 -15 l-715 -6 -153 203 -153 203 438 5 c241 3 443 9
                        450 13 8 5 -19 46 -88 130 -236 287 -450 589 -508 719 -44 97 -88 254 -107
                        381 -22 150 -15 409 15 550 101 474 377 834 810 1056 165 84 345 137 586 170
                        102 14 374 12 488 -4z m1389 -3012 l196 -6 -67 -86 c-37 -47 -107 -139 -156
                        -203 l-87 -118 -274 0 c-151 0 -274 3 -274 6 0 3 55 71 123 153 67 81 142 172
                        167 203 l45 57 66 1 c36 0 154 -3 261 -7z"/>
                    </g>
                </svg>
            </div>

            <div class="text-center-wrapper">
                <svg class="text-svg" viewBox="0 0 500 100">
                    <text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" class="text-style text-bienvenue">
                        Bienvenue
                    </text>
                </svg>
                <svg class="text-svg" viewBox="0 0 500 100">
                    <text x="50%" y="50%" text-anchor="middle" dominant-baseline="central" class="text-style text-welcome">
                        Welcome
                    </text>
                </svg>
            </div>
        </div>
    </div>

    <script>
        function checkInputs(step) {
            let isValid = false;
            if (step === 1) {
                const nom = document.getElementById('input-nom').value.trim();
                const prenom = document.getElementById('input-prenom').value.trim();
                isValid = (nom !== "" && prenom !== "");
            } else if (step === 2) {
                const pseudo = document.getElementById('input-pseudo').value.trim();
                isValid = (pseudo !== "");
            } else if (step === 3) {
                const pays = document.getElementById('input-pays').value;
                isValid = (pays !== "");
            }
            document.getElementById('btn-' + step).disabled = !isValid;
        }

        function nextStep(currentStep) {
            document.getElementById('step-' + currentStep).style.display = 'none';
            if (currentStep < 3) {
                const next = currentStep + 1;
                document.getElementById('step-' + next).style.display = 'flex';
            } else {
                document.getElementById('questionnaire-container').style.display = 'none';
                document.getElementById('final-message').style.display = 'block';
                document.getElementById('start-btn').style.display = 'block';
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
            // --- GESTION MENU DÃ‰ROULANT CUSTOM ---
            const trigger = document.getElementById('country-trigger');
            const wrapper = document.getElementById('country-select');
            const options = document.querySelectorAll('.custom-option');
            const hiddenInput = document.getElementById('input-pays');
            const triggerSpan = trigger.querySelector('span');
            const searchInput = document.getElementById('country-search-input');
            const questionnaireContainer = document.getElementById('questionnaire-container');

            trigger.addEventListener('click', function(e) {
                e.stopPropagation();
                const isOpen = wrapper.classList.toggle('open');
                
                // AJOUT : Ajoute/EnlÃ¨ve la classe pour rehausser le conteneur
                questionnaireContainer.classList.toggle('menu-open', isOpen);

                if (isOpen) {
                    searchInput.value = ''; 
                    filterOptions(''); 
                    searchInput.focus();
                }
            });

            document.addEventListener('click', function(e) {
                if (!wrapper.contains(e.target)) {
                    wrapper.classList.remove('open');
                    // AJOUT : Retire la classe pour remettre le conteneur Ã  sa place
                    questionnaireContainer.classList.remove('menu-open');
                }
            });

            function filterOptions(query) {
                const filter = query.toUpperCase();
                options.forEach(option => {
                    const text = option.innerText.toUpperCase();
                    if (text.indexOf(filter) > -1) {
                        option.classList.remove('hidden');
                    } else {
                        option.classList.add('hidden');
                    }
                });
            }

            searchInput.addEventListener('input', function(e) {
                filterOptions(e.target.value);
            });
            
            searchInput.addEventListener('click', function(e) {
                e.stopPropagation();
            });

            options.forEach(option => {
                option.addEventListener('click', function() {
                    const value = this.getAttribute('data-value');
                    const text = this.innerText;
                    triggerSpan.innerText = text;
                    
                    wrapper.classList.remove('open');
                    // AJOUT : Retire la classe aprÃ¨s sÃ©lection
                    questionnaireContainer.classList.remove('menu-open');

                    options.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    hiddenInput.value = value;
                    checkInputs(3);
                });
            });

            // --- SETUP LOGOS ---
            const paths = document.querySelectorAll('.measure-length');
            paths.forEach(path => {
                const length = path.getTotalLength();
                path.style.setProperty('--length', length);
            });

            // --- GESTION DÃ‰MARRAGE ---
            const overlay = document.getElementById('start-overlay');
            const startBtn = document.getElementById('start-btn');
            const audio = document.getElementById('introSound');

            startBtn.addEventListener('click', function() {
                if (audio) {
                    audio.volume = 1.0;
                    audio.play().catch(e => console.log("Erreur audio:", e));
                }
                overlay.style.opacity = '0';
                setTimeout(() => {
                    overlay.style.display = 'none';
                }, 500);
                document.body.classList.add('started');
            });
        });
    </script>
</body>
</html>